openapi: 3.0.3
info:
  title: Omni Chat
  version: '0.0.1'
  description: |
    Free, open core, federated chat system, to replace every existing chat app.

    View docs for older releases [here](https://github.com/neelkamath/omni-chat/releases).
  contact:
    name: Neel Kamath
    email: neelkamathonline@gmail.com
    url: https://github.com/neelkamath/omni-chat
  license:
    name: MIT
    url: https://github.com/neelkamath/omni-chat/blob/master/LICENSE
servers:
  - url: http://localhost:80
    description: You'll have to run the server yourself.
paths:
  /user:
    post:
      tags: [account]
      description: Create an account
      operationId: createAccount
      requestBody:
        $ref: '#/components/requestBodies/NewAccount'
      responses:
        '204':
          description: Account created
        '400':
          description: Username already exists
  /health_check:
    get:
      tags: [status]
      description: Checks if all systems are operational.
      operationId: healthCheck
      responses:
        '204':
          description: All systems are operational.
components:
  schemas:
    NewAccount:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
        email:
          type: string
        first_name:
          type: string
        last_name:
          type: string
      required: [username, password, email]
  requestBodies:
    NewAccount:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/NewAccount'